import{r as l}from"./app-YjWIOk_X.js";const O=(...e)=>{console!=null&&console.warn&&(g(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},R={},x=(...e)=>{g(e[0])&&R[e[0]]||(g(e[0])&&(R[e[0]]=new Date),O(...e))},k=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},L=(e,n,s)=>{e.loadNamespaces(n,k(e,s))},j=(e,n,s,a)=>{g(s)&&(s=[s]),s.forEach(m=>{e.options.ns.indexOf(m)<0&&e.options.ns.push(m)}),e.loadLanguages(n,k(e,a))},v=(e,n,s={})=>!n.languages||!n.languages.length?(x("i18n.languages were undefined or empty",n.languages),!0):n.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,m)=>{var t;if(((t=s.bindI18n)==null?void 0:t.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!m(a.isLanguageChangingTo,e))return!1}}),g=e=>typeof e=="string",P=e=>typeof e=="object"&&e!==null,U=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},q=e=>$[e],A=e=>e.replace(U,q);let B={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:A};const W=()=>B;let G;const J=()=>G,K=l.createContext();class Y{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(s=>{var a;(a=this.usedNamespaces)[s]??(a[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Q=(e,n)=>{const s=l.useRef();return l.useEffect(()=>{s.current=e},[e,n]),s.current},H=(e,n,s,a)=>e.getFixedT(n,s,a),X=(e,n,s,a)=>l.useCallback(H(e,n,s,a),[e,n,s,a]),_=(e,n={})=>{var I,z,F;const{i18n:s}=n,{i18n:a,defaultNS:m}=l.useContext(K)||{},t=s||a||J();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new Y),!t){x("You will need to pass in an i18next instance by using initReactI18next");const i=(c,u)=>g(u)?u:P(u)&&g(u.defaultValue)?u.defaultValue:Array.isArray(c)?c[c.length-1]:c,r=[i,{},!1];return r.t=i,r.i18n={},r.ready=!1,r}(I=t.options.react)!=null&&I.wait&&x("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const p={...W(),...t.options.react,...n},{useSuspense:S,keyPrefix:w}=p;let o=e;o=g(o)?[o]:o||["translation"],(F=(z=t.reportNamespaces).addUsedNamespaces)==null||F.call(z,o);const d=(t.isInitialized||t.initializedStoreOnce)&&o.every(i=>v(i,t,p)),M=X(t,n.lng||null,p.nsMode==="fallback"?o:o[0],w),T=()=>M,b=()=>H(t,n.lng||null,p.nsMode==="fallback"?o:o[0],w),[C,h]=l.useState(T);let N=o.join();n.lng&&(N=`${n.lng}${N}`);const E=Q(N),f=l.useRef(!0);l.useEffect(()=>{const{bindI18n:i,bindI18nStore:r}=p;f.current=!0,!d&&!S&&(n.lng?j(t,n.lng,o,()=>{f.current&&h(b)}):L(t,o,()=>{f.current&&h(b)})),d&&E&&E!==N&&f.current&&h(b);const c=()=>{f.current&&h(b)};return i&&(t==null||t.on(i,c)),r&&(t==null||t.store.on(r,c)),()=>{f.current=!1,t&&(i==null||i.split(" ").forEach(u=>t.off(u,c))),r&&t&&r.split(" ").forEach(u=>t.store.off(u,c))}},[t,N]),l.useEffect(()=>{f.current&&d&&h(T)},[t,w,d]);const y=[C,t,d];if(y.t=C,y.i18n=t,y.ready=d,d||!d&&!S)return y;throw new Promise(i=>{n.lng?j(t,n.lng,o,()=>i()):L(t,o,()=>i())})};export{_ as u};
